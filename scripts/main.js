// GUEST LIST
let guest_list = {
  groom_parents: {
    persons: [
    {name: "Папа", description: "❤️ Любит пошутить, сварит самогон лучше всех, лучший рыбак, замечательный дедушка и отец, после свадьбы станет любимым свёкром❤️", photo: 'dad.JPG'},
    {name: "Мама", description: "❤️ Любимая мама и бабушка, в умении находить общий язык нет равных, всегда накормит и приютит, после свадьбы станет прекрасной свекровью ❤️", photo: 'mum.JPG'},
  ],
  title: "💖 Родненькие 💖"
},
  bride_parents: {
    persons: [
    {name: "", description: "Любимая мамочка, разбирается в новых технологиях👩‍💻, всегда поддержит и поможет 💓. После свадьбы станет тещей 😉", photo: 'mother.jpg'},
  ],
  title: "❤️ Мамуля ❤️"
},
  groom_sister_family: {
    persons: [
    {name: "Оля", description: "Самая крутая стюардесса на борту 🛬, победитель по жизни 🏆, insta-blogger и просто красавица 💃", photo: 'sister.jpg'},
    {name: "Олег", description: "SUBARIST ✨, Крутой батя 😎, увидел километры морского дна 🌊, единственный Олег на свадьбе 👀", photo: 'oleg.jpg'},
    {name: "Юра", description: "Подрастающее поколение 🤟, надежда на светлой будущее нашей страны 💪🏻, любитель суси 🍣 и любимый племянник 😍", photo: 'yuriy.jpg'},
  ],
  title: "✈️ Улётная семейка ✈️"
},
  aunt_eugenia: {
    persons: [
    {name: "Женя", description: "Самая миниатюрная тетя 😄, готовит вкуснейшие блюда и поит вкусным кофе ☕️", photo: 'Zhenya_S.jpg'},
    {name: "Максим", description: "Лучший водитель России 🚙, прекрасный отец и хороший дядя👍", photo: 'MaksimS.jpg'},
    {name: "Юля", description: "Замечательная двоюродная сестричка ❤️, разбирается во всем анимэ 🤪 на свете, будущий владелец турфирмы 👩‍💻", photo: 'YuliaS.jpg'},
    {name: "Саша", description: "Классный двоюродный братишка - отличник, подрастающее поколение 🤟, надежда на светлой будущее нашей страны 💪🏻 ", photo: 'Sasha_S.jpg'},
  ],
  title: "❣️ Семья Сербиных ❣️"
},
  aunt_anna: {
    persons: [
    {name: "Аня", description: "Замечательный врач 👩‍⚕️, супер мама, всегда дает хорошие советы❤️", photo: 'Anya.jpg'},
    {name: "Саша", description: "Развеселит любого 😁, пожддержит любой разговор, хороший отец", photo: 'Sasha_Sh.jpg'},
  ],
  title: "❣️ Суперсемейка ❣️"
},
  aunt_tatyana: {
    persons: [
    {name: "Татьяна", description: "Замечательная сестра отца жениха, любимая мама и бабушка, а так же прабабушка 💓", photo: 'aunt_tatyana.jpg'}
  ],
  title: "❤️ Любимая и уважаемая тётя ❤️"
},
  cousin_natasha: {
    persons: [
    {name: "Наташа", description: "Обаятельная и замечательная, всегда выручит с любой просьбой ❤️", photo: "natasha.jpg"},
    {name: "Саша", description: "Всегда сможет пошутить 😁 в любой компании и поддержать разговор ", photo: 'u_sasha.jpg'},
    {name: "Дима", description: "Крутой 😎, молодой 🤟, спортсмен и супер атлет 💪🏻", photo: 'dimon.jpg'},
    {name: "Артём", description: "Красавчик 😼, любит быструю езду 🏍, и просто парень огонь 🔥", photo: 'artyom.jpg'},
  ],
  title: "❣️ Семья Урсуленко ❣️"
},
  cousin_eugen: {
    persons: [
    {name: "", description: "Парень стиляга 😎, никогда не забывает про дни рождения 😉", photo: 'u_genia.jpg'},
    {name: "", description: "Добрый, замечательный и обаятельный человек 😸", photo: 'rimma.jpg'},
  ],
  title: "❤️ Женя и Римма ❤️"
},
  vitya_olya: {
    persons: [
    {name: "Витя", description: "Boy'чик Оли, он считает что он самый охуенный, красивый, невъебенный 😎", photo: "vityao.jpg"},
    {name: "Оля", description: "Делает всех красивыми 🤩, кроме своего boy'чика 👦", photo: "olyao.jpg"},
  ],
  title: "👸 Красавица и Томас Шелби 💥"
},
  tanya_kolya: {
    persons: [
    {name: "Коля", description: "Разложит тебе за любую Souls игру 😵, программист не аутист 🤪, Кодзима своровал все идеи геймдизайна у него 👺, Женатик 😜", photo: 'kolya.jpg'},
    {name: "Таня", description: "Пояснит в чем отличие поз от бууз 🥟, недавно вступила в ряды развозчиков мака 🚚", photo: 'tanya.jpg'},
  ],
  title: "💞 Молодожены 💞"
},
  igor_olya: {
    persons: [
    {name: "Игорь", description: "Опасный парень в драке 🤼‍♀️ выбил колено, но всем сказал, что на футболе. ⚽️", photo: "igor.jpg"},
    {name: "Оля", description: "Крутая девчонка стреляет 🔫 ловко. Украла сердечко самого опасного парня в тусе.🤓", photo: "olya_x.jpg"},
  ],
  title: "🔫 Второиркутские Бони & Клайд 🔫"
},
  stass_lisa: {
    persons: [
    {name: "St.Ass", description: "Компукторный бох 🧑‍💻, может собрать 4к gaming pc на 775 сокете и 750ti 😱, любитель байкальского омуля 🐟 хоть и ни разу его не ел 😺", photo: 'stass.jpg'},
    {name: "Лиза", description: "Мы не знакомы, но очень ждём тебя и надеемся что наша компания тебе понравится 🙏", photo: 'lisa.jpg'},
  ],
  title: "🤩 Туристы - Суетологи 🤩"
},
  ares_family: {
    persons: [
    {name: "Максим", description: "Спортсмен  🏋️‍♂️, отец и просто красавчик 💪, а ещё очень профессионально сидит в офисе 👨‍💻", photo: 'max_t.jpg'},
    {name: "Оля", description: "Мама прекрасного бэбика 🍼 今天你可以玩得很开心、什么都不想 😉", photo: 'olya_t.jpg'},
  ],
  title: "❤️ Семья для подражания ❤️"
},
  nastya_vitya: {
    persons: [
    {name: "Настя", description: "Мастерица на все руки, отменный тайм менеджер 👩‍💼 и просто замечательный человек 🧍🏻‍♀️", photo: 'nastya_m.jpg'},
    {name: "Витя", description: "Прекрасный муж и заботливый отец двух дочурок 👨‍👧‍👧", photo: 'vitya_m.jpg'},
  ],
  title: "❣️ Семья Марченко ❣️"
},
  baba_deda: {
    persons: [
    {name: "Баба", description: "Любимая бабуля, готовит вкуснейшие блюда.", photo: 'Grandmother.jpg'},
    {name: "Деда", description: "Любимый дедуля, мастер на все руки", photo: 'Grandfather.jpg'},
  ],
  title: "Бабуля и дедуля"
},
  fucking_slaves: {
    persons: [
    {name: "Серёга", description: "Осветит 🔦💡 своим присутсвием самую скучную тусу 🕺", photo: "stavtcev.jpg"},
    {name: "Лёха", description: "Может дотянуться до звезд ✨ или твоего сердечка ❤️ ", photo: "alexei.jpg"},
    {name: "Серёга", description: "Любит фотать 18+ контент 👙 и кросы за 30к+ 🤑", photo: "traher.jpg"},
    {name: "Тима", description: "Знает что такое бибки и клюколы, и может пояснить что тебе с этим делать 😏", photo: 'tima_slave.jpg'},
  ],
  title: "🏳️‍🌈 Любимые Fucking Slaves 🏳️‍🌈"
},
  sisters: {
    persons: [
    {name: "Маша", description: "Крутая учительница 👩🏻‍🏫 с замечательным плейлистом 🎼", photo: "Masha.jpg"},
    {name: "Катя", description: "Верхом на коне 🐎, верхом по жизни 🤩", photo: "Kate.jpg"},
  ],
  title: "🦊 Систрички лисички 🦊"
},
  ira: {
    persons: [
    {name: "Ира", description: "Посчитает твои долги 💸 быстрее, чем ты успеешь моргнуть👀", photo: "ira.jpg"}
  ],
  title: "💓 Дорогая 💓"
},
  yulya: {
    persons: [
    {name: "Юля", description: "❤️ Быстро домчит тебя из точки А в точку Б, даже если ее об этом не просили ❤️", photo: "yulya.jpg"}
  ],
  title: "💓 Дорогая 💓"
},
  dasha: {
    persons: [
    {name: "Даша", description: "На 3-х языках 👅 может спеть любую песню Серёжи Лазарева 😍", photo: "dasha.jpg"}
  ],
  title: "💓 Дорогая 💓"
},
  boba: {
    persons: [
    {name: "Вова", description: "Когда в покере заходит с ручной парой двоек, весь стол пасует в ужасе 😱, пояснит любому за Геншин, Наруто, Боруто, Тетрадь Смерти, Евангелион, ЖоЖо, Атаку Титанов, Год Гиас, Клинок рассекающий демонов и Врата Штейна, даже если не смотрел 😎", photo: 'anime_warrior.jpg'}
  ],
  title: "😈 Anime Expert 😈"
},
  pashka: {
    persons: [
    {name: "Павлик", description: "Сделает любой ремонт в хате 👷, построит дом 🏠, пояснит за качалку 💪 и умеет отдыхать от всей души🤩", photo: "pavlik.jpg"}
  ],
  title: "😎 Крутой и Derzkiy 😎"
},
  alina: {
    persons: [
    {name: "Алина", description: "Подруга детства, объездила весь мир 🌎 и не собирается останавливаться. 💃", photo: "alina.jpg"}
  ],
  title: "💓 Дорогая 💓"
},
  seva: {
    persons: [
    {name: "Сева aka SevOK", description: "Раздаст голова-глаза за две минуты до выхода 🤯, может и не только в эщкеп фром краков 😱, зарабатывает 300к в наносек 💰, а ещё посмотрите какой сладкий бэбик 👶 у этого красивого господина 🧐", photo: "SevOK.jpg"}
  ],
  title: "🤠 Увожаемый Севолод 🤠"
},
  goshan: {
    persons: [
    {name: "Георгий", description: "Выкурит двойное яблочко 🍏🍎 за 30сек и получит match в тиндере от любой женщины 👩‍🦰, да куда там, и от любого гетеросексуального мужчины 🏳️‍🌈", photo: 'goshan.jpg'}
  ],
  title: "🍏🍎 Гроза каликов и тиндера 😻"
},
  cookies: {
    persons: [
      {name: "Аня", description: "Вышла замуж 👰🏼‍♀️ за Костю не подозревая, что он из Читы 🔪", photo: "anna_cookie.jpg"},
      {name: "Костя", description: "Беженец🏃🏻‍♂️ с Якутии женился на Ане ради работы 👷‍♂️", photo: "cookie.jpg"},
    ],
    title: "🍪 Сладкие кукисы 🍪"
  },
  taras: {
    persons: [
      {name: "Тарас", description: 'Может придумать шутки про Сизифа 🗿, сочиняет рэп 🎙, вот пример довольно известных песен: "Выдыхай", "Иордан", "Вселенная бесконечна?", "Чайлдфри", избегает своей популярности 🙈, все что удалось найти на просторах интернета (фото выше) 😢', photo: "taras.jpg"},
    ],
    title: "🧐 Филосоff 🧐"
  },
};


function getFooterTitle(count) {
  let title = "Ждём";
  if (count > 1) {
    title = "Ждём вас"
  } else {
    title = "Ждём тебя"
  }

  return title;
}

function guestCount(list) {
  let counter = 2;
  for (const guest in guest_list) {
    if (Object.hasOwnProperty.call(guest_list, guest)) {
      const element = guest_list[guest];
      counter += element.persons.length;
    }
  }
  return counter;
}

console.log(guestCount(guest_list));

const params = new Proxy(new URLSearchParams(window.location.search), {
  get: (searchParams, prop) => searchParams.get(prop)
});

// Add your javascript here
// Don't forget to add it into respective layouts where this js file is needed
$(document).ready(function() {
  let guest_title = $('#guest-name');

  if (params.guest && params.guest in guest_list) {
    let meta = guest_list[params.guest]
    let guests = meta.persons;
    guest_title.html(meta.title);

    let title = getFooterTitle(guests.length);

    $('#footer-title').html(title);

    for (const guest in guests) {
      if (Object.hasOwnProperty.call(guests, guest)) {
        const element = guests[guest];
        let card = renderGuestCard(element);

        $('#guest-list').append(card);
      }
    }
  } else {
    guest_title.html('ANONYMUS');
  }

  AOS.init();
});


function renderGuestCard(guest) {
  let html = '<div class="col-md-4">' +
      '<div class="card d-block mb-3"><img class="card-img-top" src="images/{{guest-photo}}" alt="guest"/>'  +
        '<div class="card-body text-center">' +
          '<div class="h5 guest-name">{{NAME}}</div>' +
          '<p class="mb-0 text-muted guest-description">{{description}}</p>' +
        '</div>' +
      '</div>' +
    '</div>';

  let template = $(html);
  let image_path = 'images/wedding/friends/';

  if (guest.photo) {
    template.find('.card-img-top').attr('src', image_path + guest.photo); 
  }

  template.find('.guest-name').html(guest.name);
  template.find('.guest-description').html(guest.description);

  return template;
}




// Smooth scroll for links with hashes
$("a.smooth-scroll").click(function(event) {
  // On-page links
  if (
    location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") &&
    location.hostname == this.hostname
  ) {
    // Figure out element to scroll to
    var target = $(this.hash);
    target = target.length ? target : $("[name=" + this.hash.slice(1) + "]");
    // Does a scroll target exist?
    if (target.length) {
      // Only prevent default if animation is actually gonna happen
      event.preventDefault();
      $("html, body").animate(
        {
          scrollTop: target.offset().top
        },
        1000,
        function() {
          // Callback after animation
          // Must change focus!
          var $target = $(target);
          $target.focus();
          if ($target.is(":focus")) {
            // Checking if the target was focused
            return false;
          } else {
            $target.attr("tabindex", "-1"); // Adding tabindex for elements not focusable
            $target.focus(); // Set focus again
          }
        }
      );
    }
  }
});

// Photo Filter
var activeFilter = "all";

$(".ww-filter-button").on("click", function(e) {
  // remove btn-primary from all buttons first
  $(".ww-filter-button").removeClass("btn-primary");
  $(".ww-filter-button").addClass("btn-outline-primary");

  // add btn-primary to active button
  var button = $(this);
  button.removeClass("btn-outline-primary");
  button.addClass("btn-primary");
  filterItems(button.data("filter"));
  e.preventDefault();
});

function filterItems(filter) {
  if (filter === activeFilter) {
    return;
  }

  activeFilter = filter;
  $(".ww-gallery .card").each(function() {
    var card = $(this);
    var groups = card.data("groups");
    var show = false;
    if (filter === "all") {
      show = true;
    } else {
      for (var i = 0; i < groups.length; i++) {
        if (groups[i] === filter) {
          show = true;
        }
      }
    }
    // hide everything first
    card.fadeOut(400);
    setTimeout(function() {
      if (show && !card.is(":visible")) {
        card.fadeIn(400);
      }
    }, 500);
  });
}

// Light Box
$(document).on("click", '[data-toggle="lightbox"]', function(event) {
  event.preventDefault();
  $(this).ekkoLightbox();
});


// Guest party






